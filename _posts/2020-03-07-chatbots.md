---
layout: post
title:  "Hey Siri 来聊个五毛钱的天"
subtitle: Task-based Dialogue Agents and Chatbots
date: 2020-03-07 11:55:00
category: Chatbot
tags: Dialogue-System Chatbot 对话机器人 Question-Answering 问答 NLP 中文文章
image: >-
  /assets/img/for_posts/P19/SanFranciscoNight.JPG
optimized_image: >-
  /assets/img/for_posts/P19/SanFranciscoNight.JPG
author: ruxuepeng
paginate: false
---  
Siri, Alexa, Google Home, Cortana 它们都搭载了对话系统.  
对话系统使用文字或者语音作为媒介，用自然语言与用户进行交流.  
我们可以按照出发点的不同, 将这些系统分为两类:  
* 实现特定任务的语音助手（Task-oriented dialogue agents）.  
它们导航,查询天气,订机票,找餐厅,调节家中温度等等.  
* 没有特定任务的聊天机器人(Chatbots).  
目的是娱乐,治疗心理疾病,但是也能使第一类语音助手显得更为有人情味.  

---
## 本文要点  
1. [介绍做聊天机器人可以使用的模型们](#聊天机器人的三类模型)    
2. [介绍绝大多数语音助手使用的GUS框架](#语音助手使用的GUS框架)  

---
## 聊天机器人的三类模型  
人们早在1966年就有研究聊天机器人了. 模型可以分为三类:  
(1) 基于规则的模型 (Rule-based Model)  
(2) 利用对话语料库的信息检索模型(Corpus-based Information Retrieval Model)  
(3) 利用对话语料库的神经网络模型(Corpus-based Neural Network Model)  

### 基于规则的模型  
主要是靠模板(pattern-response structure), 但还是有一些有意思的设计的.  
1966年的ELIZA和1968年的PARRY都是属于这类Chatbot.  
它们识别问题中的关键字们, 对关键字们打分排序, 找到每个关键字对应的回答模板,输出最高分的关键字对应的模板形成的回答.  
关键字越具体分数越高,越常见分数越低.  

* ELIZA怎么回答以下这个句子?  
用户: "<strong>I</strong> know <strong>everybody</strong> laughed at me" (我知道所有人都笑话我)  
关键字1: "I"  
对应模板:  (I \*) -> (You say you 2)  
对应回答1: You say you know everybody laughed at you (你说你知道所有人都笑话你)  
关键字2: "everybody"  
对应模板: (everybody) -> (Who in particular are you thinking of)  
对应回答2: Who in particular are you thinking of （具体你想到的是谁）  
* 这里关键字2分数更高.使用everybody对应的回答模板来产生输出.  
ELIZA: Who in particular are you thinking of （具体你想到的是谁)  

ELIZA的逻辑  
<img src="/assets/img/for_posts/P19/ELIZA.png" alt="ELIZA pseudo-code"/>  

有几个有趣又细心的设计:  
* 为了不重复在同一段对话里使用同一个模板规则,会记录规则被使用的次数  
* 有一个记忆区(Memory rule list), 当My成为最高分关键字时,会从记忆区随机选一个模板产生回答,把回答存进备选里
* 当没有识别出关键字时,会使用一些过渡性的回答(I see/ Please go on)或者使用来自记忆区的备选回答  

PARRY在ELIZA的基础上,能够根据输入句子的感情色彩不同,然后做出带有不同感情色彩的回答.  
感情色彩分为三个方面:恐惧/愤怒/怀疑.  
e.g.如果用户在对话中一直威胁PARRY,PARRY的恐惧值会增加,会影响能够使用的回答模板.  

这类chatbots对世界没有任何理解或知识, 纯粹按照模板回答.  

---
### 利用对话语料库的信息检索模型  
语料来源可以是:
推特(比如Twitter Triple Corpus 2015);
微博(需要自己扒);
电影中人物的对话(比如Movie Triples 2016, Filtered Movie Script Corpus 2014);
人为生成的有限定主题的对话(比如Topical-Chat 2019)  
代表的有Cleverbot(2017), Microsoft的一系列聊天机器人比如小冰(中国), Zo (美国, 2019年夏天中止)

---
## 语音助手使用的GUS框架

---
做这期的inspiration是我喜欢的歌手被机器人采访了:)  
[Billie Eilish Gets Interview By a Robot | Vogue](https://www.youtube.com/watch?v=K0c94ghBS4A)  
大家周末快乐.  

---
## Reference  
* [Speech and Language Processing](https://web.stanford.edu/~jurafsky/slp3/26.pdf)  
* [Speech and Language Processing Slides](https://web.stanford.edu/~jurafsky/slp3/slides/convagents1.pdf)  
* [A Survey of Available Corpora for Building Data-Driven Dialogue Systems](https://arxiv.org/pdf/1512.05742.pdf)  
* [Topical Chat Dataset](https://github.com/alexa/alexa-prize-topical-chat-dataset)  
* [Neural Responding Machine for Short-text Conversation 用的微博数据](https://arxiv.org/pdf/1503.02364.pdf)  
* [Dos and Donts of a High-Grade Chatbot Building](https://chatbotslife.com/dos-and-donts-of-a-high-grade-chatbot-building-a4385fc3e2b5)  
